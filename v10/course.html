<!DOCTYPE html><html lang="fr"><head><meta charset="utf-8"><meta name="author" content="Nicolas Frankel"><title>Fondations de Vaadin</title><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" name="viewport"><link href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/reveal.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/theme/white.css" id="theme"><!--This CSS is generated by the Asciidoctor-Reveal.js converter to further integrate AsciiDoc's existing semantic with Reveal.js--><style type="text/css">.reveal div.right {
  float: right;
}

/* callouts */
.conum[data-value] {display:inline-block;color:#fff!important;background-color:rgba(50,150,50,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]:after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}</style><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css"><link href="../highlight/styles/github.min.css" rel="stylesheet"><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/print/pdf.css" : "https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script><!--[if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/lib/js/html5shiv.js"></script><![endif]--><link rel="stylesheet" href="../style.css"></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Fondations de Vaadin</h1><p class="author"><small>Nicolas Frankel</small></p></section><section><section id="_pourquoi_vaadin"><h2>Pourquoi Vaadin ?</h2><div class="paragraph"><p>La solution standard pour faire du web avec Java est Java EE</p></div></section><section id="_le_web_avec_java_ee"><h2>Le Web avec Java EE</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Java</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">HTML</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">API Servlet</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">CSS</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">JSP</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">JavaScript</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Taglibs/Tag files</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">AJAX</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">DOM</p></td></tr></table></section><section id="_le_web_avec_vaadin"><h2>Le Web avec Vaadin</h2><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><thead><tr><th class="tableblock halign-left valign-top">Obligatoire</th><th class="tableblock halign-left valign-top">Facultatif</th></tr><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Java</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">CSS</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock">Vaadin</p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Web Component</p></td></tr></table></section><section id="_attention"><h2>Attention</h2><div class="admonitionblock warning"><table><tr><td class="icon"><i class="fa fa-warning" title="Warning"></i></td><td class="content">La v10 de Vaadin nécessite plus de compétences et d&#8217;effort CSS que les versions précédentes pour un rendu comparable</td></tr></table></div></section><section id="_quelques_principes"><h2>Quelques principes</h2><div class="ulist"><ul><li><p>Code en Java</p><div class="ulist"><ul><li><p>Compilé en bytecode</p></li></ul></div></li><li><p>Basé sur des composants réutilisables</p></li><li><p>Programmation évènementielle</p></li><li><p>Compatibles mobile</p></li></ul></div></section><section id="_contraintes"><h2>Contraintes</h2><div class="ulist"><ul><li><p>Java 8+</p></li><li><p>Container de servlets Java EE 6+</p></li></ul></div></section><section id="_architecture_générale"><h2>Architecture générale</h2><div class="imageblock" style=""><img src="images/architecture.png" alt="architecture"></div></section></section>
<section><section id="_concepts_fondamentaux"><h2>Concepts fondamentaux</h2><div class="ulist"><ul><li><p>Servlet</p></li><li><p>UI</p></li><li><p>Route</p></li><li><p>Composants</p></li><li><p>Containers</p></li></ul></div></section><section id="_servlet"><h2>Servlet</h2><div class="ulist"><ul><li><p>Servlet spécifique <code>VaadinServlet</code></p></li><li><p>Enregistre automatiquement une instance sous <code>/*</code></p><div class="ulist"><ul><li><p>Si aucune instance n&#8217;est enregistrée explicitement</p></li></ul></div></li></ul></div></section><section id="_vaadin_servlet"><h2>Vaadin Servlet</h2><div class="quoteblock"><blockquote>The main servlet, which handles all incoming requests to the application.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/server/VaadinServlet.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section><div class="imageblock stretch" style=""><img src="images/vaadin-servlet.svg" alt="vaadin servlet" height="100%"></div></section><section id="_ui"><h2>UI</h2><div class="quoteblock"><blockquote>The topmost component in any component hierarchy.
There is one UI for every Vaadin instance in a browser window.
A UI may either represent an entire browser window (or tab) or some part of a html page where a Vaadin application is embedded.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/component/UI.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section id="_caractéristiques"><h2>Caractéristiques</h2><div class="ulist"><ul><li><p>Représente le <code>&lt;body&gt;</code> d&#8217;une page HTML</p></li><li><p>Classe d&#8217;UI spécifiée par une annotation</p></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/ui.svg" alt="ui" height="100%"></div></section><section id="_exemple_de_configuration_explicite"><h2>Exemple de configuration explicite</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">public class MyUI extends UI {

    @Override
    protected void init(VaadinRequest request) {
        add(new Span("Hello world!"));
    }
}

@VaadinServletConfiguration(
    ui = MyUI.class,
    productionMode = false
)
public class MyVaadinServlet extends VaadinServlet { }</code></pre></section></section>
<section><section id="_component"><h2>Component</h2><div class="quoteblock"><blockquote>Component is a higher level abstraction of an <code>Element</code> or a hierarchy of Elements.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/component/Component.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section id="_caractéristiques_2"><h2>Caractéristiques</h2><div class="ulist"><ul><li><p>Classe (abstraite) de plus haut niveau héritée par tous les composants Vaadin</p></li><li><p>Disposé sur un composant parent</p></li><li><p>Ou annotée avec une annotation <code>@Route</code></p></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/component.svg" alt="component" height="100%"></div></section><section id="_composants_disponibles"><h2>Composants disponibles</h2><div class="ulist"><ul><li><p><code>Label</code></p></li><li><p><code>TextField</code></p></li><li><p><code>Button</code></p></li><li><p><code>Select</code></p></li><li><p><code>Grid</code></p></li><li><p>etc.</p></li></ul></div></section><section id="_samplers"><h2>Samplers</h2><div class="ulist"><ul><li><p><a href="http://demo.vaadin.com/sampler-for-vaadin6" target="_blank">Version 6</a></p></li><li><p><a href="http://demo.vaadin.com/sampler/" target="_blank">Version 8</a></p></li><li><p><a href="https://vaadin.com/components/browse/" target="_blank">Version 10</a></p></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/sampler.png" alt="sampler" height="100%"></div></section></section>
<section><section id="_has_components"><h2>Has Components</h2><div class="quoteblock"><blockquote>A component to which the user can add and remove child components.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/component/HasComponents.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section id="_has_components_disponibles"><h2>Has Components disponibles</h2><div class="ulist"><ul><li><p><code>VerticalLayout</code></p></li><li><p><code>HorizontalLayout</code></p></li><li><p><code>FormLayout</code></p></li><li><p>etc.</p></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/has-components.svg" alt="has components" height="100%"></div></section></section>
<section><section id="_route"><h2>Route</h2><div class="quoteblock"><blockquote>Defines the route for components that function as navigation targets in routing.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/router/Route.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section id="_caractéristiques_3"><h2>Caractéristiques</h2><div class="ulist"><ul><li><p>Associe un chemin d&#8217;accès à un composant</p></li><li><p>Indiqué par l&#8217;annotation <code>@Route</code></p></li><li><p>Configuré par Vaadin au démarrage de l&#8217;application</p></li></ul></div></section><section id="_chemin_par_défaut"><h2>Chemin par défaut</h2><div class="ulist"><ul><li><p>Nom de la classe</p></li><li><p>Suppression du suffixe <code>View</code></p></li><li><p>En minuscules</p></li><li><p>Ou <code>""</code> pour la vue <code>MainXXX</code></p></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/routes.svg" alt="routes" height="100%"></div></section><section id="_exemple_de_route"><h2>Exemple de route</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">@Route("home")
public class MainView extends Div {

  public MainView() {
    setText("Hello world!");
  }
}</code></pre></section></section>
<section><section id="_routes_concepts_avancés"><h2>Routes : concepts avancés</h2><div class="ulist"><ul><li><p>Composant affiché</p></li><li><p>Routes paramétrées</p></li><li><p>Liens de routeur</p></li></ul></div></section><section id="_composant_affiché_par_la_route"><h2>Composant affiché par la route</h2><div class="ulist"><ul><li><p>Par défaut, le composant est affiché comme enfant de l&#8217;UI</p></li><li><p>Comment faire pour l&#8217;afficher sur un autre parent ?</p></li></ul></div></section><section id="_elément_route_layout"><h2>Elément <code>@Route.layout</code></h2><div class="ulist"><ul><li><p>Configure le composant sur lequel le composant doit être affiché</p></li><li><p>Le composant doit implémenter <code>RouterLayout</code></p></li></ul></div></section><section id="_exemple_de_code"><h2>Exemple de code</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">@Route(layout = ParentView.class)
public class AView extends VerticalLayout { }

public class ParentView extends Div implements RouterLayout { }</code></pre></section><section id="_parent_de_parent"><h2>Parent de parent</h2><div class="ulist"><ul><li><p>Si le parent doit lui-même avoir un parent, il existe <code>@ParentLayout</code></p></li><li><p>Le parent configuré doit également implémenter <code>RouterLayout</code></p></li></ul></div></section><section id="_exemple_de_code_2"><h2>Exemple de code</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">@Route(layout = ParentView.class)
public class AView extends VerticalLayout { }

@ParentLayout(RootLayout.class)
public class ParentView extends Div implements RouterLayout { }

public class RootLayout extends Div implements RouterLayout { }</code></pre></section><section id="_routes_paramétrées"><h2>Routes paramétrées</h2><div class="ulist"><ul><li><p>Comment gérer les URL de type REST ?</p><div class="ulist"><ul><li><p>Par exemple, <code>person/1</code></p></li></ul></div></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/parameterized-routes.svg" alt="parameterized routes" height="100%"></div></section><section id="_exemple_de_route_paramétrée"><h2>Exemple de route paramétrée</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">@Route("person")
public class PersonView extends Div
                        implements HasUrlParameter&lt;String&gt; {
  @Override
  public void setParameter(BeforeEvent event,
                           String person) {
    setText("Hello " + person + "!"); <i class="conum" data-value="1"></i><b>(1)</b>
  }
}</code></pre>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>person/Doe</code></td></tr></table></div></section><section id="_exemple_de_route_paramétrée_2"><h2>Exemple de route paramétrée</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">@Route("person")
public class PersonView extends Div
                        implements HasUrlParameter&lt;String&gt; {
  @Override
  public void setParameter(BeforeEvent event,
        @OptionalParameter String person) {
    if (person == null) {
      setText("Hello nobody!");         <i class="conum" data-value="1"></i><b>(1)</b>
    } else {
      setText("Hello " + person + "!"); <i class="conum" data-value="2"></i><b>(2)</b>
    }
  }
}</code></pre>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>person</code></td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td><code>person/Doe</code></td></tr></table></div></section><section id="_exemple_de_route_paramétrée_3"><h2>Exemple de route paramétrée</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">@Route("person")
public class PersonView extends Div
                        implements HasUrlParameter&lt;String&gt; {
  @Override
  public void setParameter(BeforeEvent event,
        @OptionalParameter String person) {
    if (person.isEmpty()) {
      setText("Hello nobody!");                    <i class="conum" data-value="1"></i><b>(1)</b>
    } else {
      setText("Hello " + person.split()[0] + "!"); <i class="conum" data-value="2"></i><b>(2)</b>
    }
  }
}</code></pre>
<div class="colist arabic"><table><tr><td><i class="conum" data-value="1"></i><b>1</b></td><td><code>person</code></td></tr><tr><td><i class="conum" data-value="2"></i><b>2</b></td><td><code>person/Doe/John</code></td></tr></table></div></section><section id="_lien_de_routeur"><h2>Lien de routeur</h2><div class="paragraph"><p>Permet de construire un lien vers un composant</p></div></section><section><div class="imageblock stretch" style=""><img src="images/router-link.svg" alt="router link" height="100%"></div></section><section id="_exemple_de_lien_de_routeur"><h2>Exemple de lien de routeur</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">new RouterLink("Say hello", HelloView.class, "John");

public class HelloView extends Div
                        implements HasUrlParameter&lt;String&gt; {

  @Override
  public void setParameter(BeforeEvent event,
                           String name) {
    setText("Hello " + name + "!");
  }
}</code></pre></section></section>
<section><section id="_programmation_evènementielle"><h2>Programmation Evènementielle</h2><div class="ulist"><ul><li><p>Implémentation du <em>pattern Observer</em></p></li><li><p>Présent dans tous les clients lourds :</p><div class="ulist"><ul><li><p>Swing/AWT</p></li><li><p>SWT</p></li><li><p>Flex</p></li><li><p>JavaFX</p></li></ul></div></li><li><p>Mais pas dans le web&#8230;&#8203;</p></li></ul></div></section><section><div class="imageblock" style=""><img src="images/observer.svg" alt="observer"></div></section><section id="_qui_est_subject"><h2>Qui est <em>Subject</em> ?</h2><div class="ulist"><ul><li><p>Tous les <code>Component</code> sont des <code>Subject</code></p></li><li><p>Génèrent des évènements en fonction :</p><div class="ulist"><ul><li><p>Du type de composant</p></li><li><p>Du type de déclencheur</p></li></ul></div></li></ul></div></section><section id="_exemple"><h2>Exemple</h2><div class="paragraph"><p><code>Button</code> génère :</p></div>
<div class="ulist"><ul><li><p><code>FocusEvent</code></p></li><li><p><code>BlurEvent</code></p></li><li><p><code>ClickEvent</code></p></li></ul></div></section><section id="_qui_est_observer"><h2>Qui est Observer ?</h2><div class="ulist"><ul><li><p>Toute classe peut implémenter <em>Observer</em></p></li><li><p>Par exemple, l&#8217;UI</p></li></ul></div></section><section id="_côté_client"><h2>Côté client</h2><div class="ulist"><ul><li><p>Du JavaScript implémente le code serveur</p></li><li><p>Une interaction client-serveur se traduit par un appel AJAX</p></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/observer-impl.svg" alt="observer impl" height="100%"></div></section><section><div class="imageblock stretch" style=""><img src="images/click-notifier.svg" alt="click notifier" height="100%"></div></section><section id="_nature_des_abonnés"><h2>Nature des abonnés</h2><div class="ulist"><ul><li><p>Notion d’abonnement portée par une interface</p></li><li><p>N&#8217;importe laquelle :</p><div class="ulist"><ul><li><p>Une classe anonyme</p></li><li><p>Une classe dédiée</p></li></ul></div></li></ul></div></section><section id="_classe_anonyme_abonnée"><h2>Classe anonyme abonnée</h2><div class="dlist"><dl><dt class="hdlist1">Avantages</dt><dd><p>Porte l’information du comportement avec sa déclaration</p></dd><dt class="hdlist1">Désavantages</dt><dd><div class="ulist"><ul><li><p>Perte de la référence sur le comportement</p></li><li><p>Couplage fort</p></li></ul></div></dd></dl></div></section><section><pre class="highlight listingblock"><code data-noescape class="java language-java">new Button("Click me!").addClickListener(
  new ComponentEventListener&lt;ClickEvent&lt;Button&gt;&gt;() {

    @Override
    public void onComponentEvent(ClickEvent&lt;Button&gt; e) {
      ...
    }
  }
);

new Button("Click me!").addClickListener(event -&gt; {
  ...
});</code></pre></section><section id="_classe_dédiée_abonnée"><h2>Classe dédiée abonnée</h2><div class="dlist"><dl><dt class="hdlist1">Avantages</dt><dd><div class="ulist"><ul><li><p>Entièrement orienté objet</p></li><li><p>Lisible</p></li><li><p>Changement dynamique possible</p></li><li><p>Séparation des responsabilités</p></li><li><p>Nommage sémantique</p></li></ul></div></dd><dt class="hdlist1">Désavantage</dt><dd><p>Verbeux</p></dd></dl></div></section><section><pre class="highlight listingblock"><code data-noescape class="java language-java">public class SendFormBehavior
  implements ComponentEventListener&lt;ClickEvent&lt;Button&gt;&gt; {

  @Override
  public void onComponentEvent(ClickEvent&lt;Button&gt; e) {
    ...
  }
}</code></pre></section><section id="_problématique_liées_au_pattern_observer"><h2>Problématique liées au <em>pattern Observer</em></h2><div class="paragraph"><p>Couplage entre l' <em>Observer</em> et son sujet</p></div></section><section id="_event_bus"><h2>Event Bus</h2><div class="quoteblock"><blockquote>Transport event occurrences from sources to subscribers, where event sources signal event occurrences to all event subscribers and event subscribers receive event occurrences.</blockquote><div class="attribution"><cite>https://en.wikipedia.org/wiki/Event_monitoring</cite><br>&#8212; Wikipedia</div></div></section><section><div class="imageblock stretch" style=""><img src="images/eventbus.svg" alt="eventbus" height="100%"></div></section><section><div class="imageblock stretch" style=""><img src="images/eventbus-annotation.svg" alt="eventbus annotation" height="100%"></div></section><section><div class="imageblock stretch" style=""><img src="images/eventbus-payload.svg" alt="eventbus payload" height="100%"></div></section><section id="_implémentations_existantes"><h2>Implémentations existantes</h2><div class="ulist"><ul><li><p><a href="https://github.com/google/guava/wiki/EventBusExplained" target="_blank">Guava</a></p></li><li><p><a href="https://square.github.io/otto/" target="_blank">Otto</a></p></li><li><p><a href="http://greenrobot.org/eventbus/">Green Robot</a></p></li><li><p>Vaadin Spring Boot’s <a href="https://github.com/peholmst/vaadin4spring/tree/master/addons/eventbus" target="_blank">Event Bus</a></p></li></ul></div></section><section id="_exemple_de_cas_dutilisation"><h2>Exemple de cas d&#8217;utilisation</h2><div class="ulist"><ul><li><p>Une liste déroulante pour les pays</p></li><li><p>Une liste déroulante pour les villes</p><div class="ulist"><ul><li><p>Uniquement pour les villes du pays</p></li></ul></div></li></ul></div></section><section><pre class="highlight listingblock"><code data-noescape class="java language-java">public class CountryComboBox extends ComboBox&lt;Country&gt; {

  public CountryComboBox(EventBus bus) {
    addValueChangeListener(event -&gt; {
      bus.post(new CountryChangedEvent(event.getValue()));
    });
  }
}</code></pre></section><section><pre class="highlight listingblock"><code data-noescape class="java language-java">public class CityComboBox extends ComboBox&lt;City&gt; {

  @Subscribe
  public void changeCities(CountryChangedEvent event) {
    // Refresh cities
  }
}</code></pre></section><section><pre class="highlight listingblock"><code data-noescape class="java language-java">@Route
public class SampleView extends VerticalLayout {

  public SampleView() {
    EventBus eventBus = new EventBus();
    CountryComboBox countries = new CountryComboBox(eventBus);
    CityComboBox cities = new CityComboBox();
    eventBus.register(cities);
    add(countries, cities);
  }
}</code></pre></section></section>
<section><section id="_has_validation"><h2>Has Validation</h2><div class="quoteblock"><blockquote>A component that supports input validation.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/component/HasValidation.html</cite><br>&#8212; Vaadin Javadocs</div></div><div class="imageblock" style=""><img src="images/invalid.png" alt="invalid"></div></section><section><div class="imageblock stretch" style=""><img src="images/has-validation.svg" alt="has validation" height="100%"></div></section><section id="_mettre_un_composant_en_erreur"><h2>Mettre un composant en erreur</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">ComboBox combo = new ComboBox();
...
combo.setInvalid(true);
combo.setErrorMessage("Invalid selection");</code></pre></section><section id="_error_handler"><h2>Error Handler</h2><div class="ulist"><ul><li><p>Gère les erreurs inattendues</p></li><li><p>Par exemple, les exceptions</p></li></ul></div></section><section><div class="imageblock stretch" style=""><img src="images/error-handler.svg" alt="error handler" height="100%"></div></section><section id="_par_défaut"><h2>Par défaut</h2><div class="imageblock" style=""><img src="images/default-error-handler.png" alt="default error handler"></div></section><section id="_notifications"><h2>Notifications</h2><div class="paragraph"><p>Informe l&#8217;utilisateur par l&#8217;affichage d&#8217;un composant contextuel</p></div>
<div class="imageblock" style=""><img src="images/error-notification.png" alt="error notification"></div></section><section><div class="imageblock stretch" style=""><img src="images/notification.svg" alt="notification" height="100%"></div></section><section id="_has_validator"><h2>Has Validator</h2><div class="quoteblock"><blockquote>A generic interface for field components and other user interface objects that have a user-editable value that should be validated.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/data/binder/HasValidator.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section><div class="imageblock stretch" style=""><img src="images/validator.svg" alt="validator" height="100%"></div></section><section id="_validateurs_disponibles"><h2>Validateurs disponibles</h2><div class="ulist"><ul><li><p>XXXRangeValidator :</p><div class="ulist"><ul><li><p>Types <em>wrapper</em> numériques</p></li><li><p><code>BigInteger</code> &amp; <code>BigDecimal</code></p></li><li><p><code>Date</code> &amp; <code>DateTime</code></p></li></ul></div></li><li><p><code>BeanValidator</code></p></li><li><p><code>RegexpValidator</code></p></li><li><p><code>EmailValidator</code></p></li><li><p><code>StringLengthValidator</code></p></li></ul></div></section><section id="_exemple_dutilisation"><h2>Exemple d’utilisation</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">public class EmailField extends TextField implements HasValidator&lt;String&gt; {

  public EmailField() {
    addValueChangeListener(event -&gt; {
      ValidationResult r = getDefaultValidator().apply(getValue(), null);
      if (r.isError()) { setToInvalid(r.getErrorMessage()); }
      else { resetToValid(); }
    });
  }

  @Override
  public Validator&lt;String&gt; getDefaultValidator() {
    return new EmailValidator("Value " + getValue() + " is not an email");
  }
}</code></pre></section></section>
<section><section id="_data_binding"><h2>Data Binding</h2><div class="ulist"><ul><li><p>Gestion évènementielle du changement d’état du modèle vers un composant graphique</p></li><li><p>Et vice-versa</p></li></ul></div></section><section id="_niveaux_de_data_binding"><h2>Niveaux de data binding</h2><div class="ulist"><ul><li><p>Propriété <em>p.e.</em> <code>email</code></p></li><li><p>Bean <em>p.e</em> <code>Person</code></p></li><li><p>Liste de beans</p></li></ul></div></section><section id="_has_value"><h2>Has Value</h2><div class="quoteblock"><blockquote>A generic interface for field components and other user interface objects that have a user-editable value.
Emits change events whenever the value is changed, either by the user or programmatically.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/component/HasValue.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section><div class="imageblock stretch" style=""><img src="images/has-value.svg" alt="has value" height="100%"></div></section><section id="_binder"><h2>Binder</h2><div class="quoteblock"><blockquote>Connects one or more Field components to properties of a backing data type such as a bean type.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/data/binder/Binder.html</cite><br>&#8212; Vaadin documentation</div></div></section><section><div class="imageblock stretch" style=""><img src="images/binder.svg" alt="binder" height="100%"></div></section><section id="_exemple_2"><h2>Exemple</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">Binder&lt;Person&gt; binder = new Binder&lt;&gt;(Person.class);
binder.setBean(new Person());
TextField firstNameField = new TextField("Given name");
TextField lastNameField = new TextField("Family name");
DatePicker birthdateField = new DatePicker("Date of birth");
binder.bind(firstNameField, "firstName");
binder.bind(lastNameField, "lastName");
binder.bind(birthDateField, "birthdate");

// User interaction

Person person = binder.getBean();
String firstName = person.getFirstName();
String lastName = person.getLastName();
LocalDate birthdate = person.getBirthDate();</code></pre></section><section><div class="imageblock" style=""><img src="images/form-binder.png" alt="form binder"></div></section><section id="_has_items"><h2>Has Items</h2><div class="quoteblock"><blockquote>Mixin interface for components that displays a collection of items.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/data/binder/HasItems.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section><div class="imageblock stretch" style=""><img src="images/has-items.svg" alt="has items" height="100%"></div></section><section id="_exemple_de_code_3"><h2>Exemple de code</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">List&lt;Person&gt; persons = ...;
ListDataProvider&lt;Person&gt; provider =
    new ListDataProvider&lt;&gt;(persons);
Grid&lt;Person&gt; grid = new Grid&lt;&gt;(Person.class);
grid.setDataProvider(provider);
grid.setColumns("firstName", "lastName", "birthdate");</code></pre></section><section><div class="imageblock" style=""><img src="images/has-items.png" alt="has items"></div></section><section><div class="imageblock stretch" style=""><img src="images/data-providers.svg" alt="data providers" height="100%"></div></section></section>
<section><section id="_grid"><h2>Grid</h2><div class="quoteblock"><blockquote>Server-side component for the &lt;vaadin-grid&gt; element.</blockquote><div class="attribution"><cite>https://demo.vaadin.com/javadoc/com.vaadin/vaadin-core/10.0.1/com/vaadin/flow/component/grid/Grid.html</cite><br>&#8212; Vaadin Javadocs</div></div></section><section><div class="imageblock stretch" style=""><img src="images/grid.svg" alt="grid" height="100%"></div></section><section id="_affichage_des_colonnes"><h2>Affichage des colonnes</h2><div class="ulist"><ul><li><p>Indique les colonnes visibles</p></li><li><p>Mais également leur ordre</p></li></ul></div>
<pre class="highlight listingblock"><code data-noescape class="java language-java">Grid&lt;Person&gt; grid = new Grid&lt;&gt;(Person.class);
grid.setColumns("firstName", "lastName");</code></pre></section><section id="_libellé_de_len_tête_de_colonne"><h2>Libellé de l&#8217;en-tête de colonne</h2><div class="paragraph"><p>Par défaut, inféré du nom de l&#8217;attribut</p></div>
<pre class="highlight listingblock"><code data-noescape class="java language-java">Grid&lt;Person&gt; grid = new Grid&lt;&gt;(Person.class);
grid.getColumn("firstName")
    .setHeader("Prénom");</code></pre></section><section id="_libellé_de_la_cellule"><h2>Libellé de la cellule</h2><div class="ulist"><ul><li><p>Récupère la valeur de l&#8217;attribut</p></li><li><p>Utilise le <code>Renderer</code> pour la transformer en <code>String</code></p></li><li><p>Affiche la <code>String</code> dans la cellule</p></li></ul></div></section><section id="_exemple_formatage_de_date"><h2>Exemple : formatage de date</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">Grid&lt;Person&gt; grid = new Grid&lt;&gt;(Person.class);
grid.addColumn(
    new LocalDateRenderer&lt;&gt;(Person::getBirthdate, "")
);</code></pre></section><section id="_exemple_ajout_de_bouton"><h2>Exemple : ajout de bouton</h2><pre class="highlight listingblock"><code data-noescape class="java language-java">grid.addColumn(new NativeButtonRenderer&lt;&gt;(
    "Click me!",
    event -&gt; Notification.show("Hello world!"))
);</code></pre></section><section><div class="imageblock" style=""><img src="images/grid.png" alt="grid"></div></section></section></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/lib/js/head.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/js/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
})

// See https://github.com/hakimel/reveal.js#configuration for a full list of configuration options
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: 'true',
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Push each slide change to the browser history
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Vertical centering of slides
  center: true,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Enable slide navigation via mouse wheel
  mouseWheel: false,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'slide',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 960,
  height: 700,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/plugin/zoom-js/zoom.js', async: true },
      { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.8.0/plugin/notes/notes.js', async: true },
      
      
      
      
  ],

  

});</script></body></html>